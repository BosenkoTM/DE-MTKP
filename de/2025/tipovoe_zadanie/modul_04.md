# Модуль № 4. Разработка модулей ПО для компьютерных систем

## Текст задания

### Цель:
Создать модуль программного обеспечения для анализа данных из базы данных, разработанной в [Модуле № 2](https://github.com/BosenkoTM/DE-MTKP/blob/main/de/2025/tipovoe_zadanie/modul_02.md#%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8C--2-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%B0%D0%B4%D0%BC%D0%B8%D0%BD%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B8-%D0%B7%D0%B0%D1%89%D0%B8%D1%82%D0%B0-%D0%B1%D0%B0%D0%B7-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85).  
Модуль должен обеспечивать взаимодействие с базой данных через графический интерфейс, обработку исключений и стабильную работу.

---

### Требования к функционалу:

#### 1. Интерфейс приложения
- **Макет окна:**  
  ![Макет окна работы с бронированием](https://github.com/BosenkoTM/DE-MTKP/blob/main/de/2025/tipovoe_zadanie/data/ui_db.jpg)  
  *Рисунок 2 — Пример интерфейса для работы с бронированиями*

#### 2. Подключение к базе данных
- Используйте данные из [Модуля № 2](https://github.com/BosenkoTM/DE-MTKP/blob/main/de/2025/tipovoe_zadanie/README.md) (база `HotelManagement`).
- Реализуйте безопасное подключение (например, через конфигурационный файл с параметрами).

---

#### 3. Функциональные требования

**a. Фильтрация записей по периоду**
- Пользователь выбирает **начало** и **конец периода**.
- По кнопке **«Фильтровать»** отображаются бронирования, у которых `CheckInDate` и `CheckOutDate` попадают в указанный диапазон.
- По кнопке **«Показать все»** сбрасывается фильтр и отображаются все записи.

**b. Добавление бронирования**
- Разработайте форму для ввода данных:  
  - Гость (выбор из списка или создание нового)
  - Номер (выбор из доступных)
  - Даты въезда/выезда
  - Услуги (чекбоксы для выбора)
  - Сумма и статус оплаты.
- При сохранении данные должны добавляться в таблицы `Bookings`, `Payments`, `BookingServices`.

**c. Удаление бронирования**
- Пользователь может выбрать запись в таблице и удалить её кнопкой **«Удалить»**.
- Удаление должно быть подтверждено диалоговым окном.

---

#### 4. Обработка исключений
- **Валидация данных:**  
  - Проверка корректности дат (например, `CheckOutDate` не может быть раньше `CheckInDate`).
  - Проверка доступности номера (триггер из Модуля № 2).
- **Обработка ошибок БД:**  
  - Вывод пользователю понятных сообщений при сбоях (например, "Ошибка подключения к базе данных").
- **Логирование:**  
  - Запись ошибок в файл (например, `app.log`).

---

### Руководство пользователя

#### 1. Запуск приложения
1. Убедитесь, что запущен сервер базы данных.
2. Запустите файл `HotelApp.exe` (или аналогичный).

#### 2. Фильтрация записей
1. Укажите **начальную** и **конечную дату** в полях ввода.  
   ![Фильтрация](https://github.com/BosenkoTM/DE-MTKP/blob/main/de/2025/tipovoe_zadanie/data/filter_example.jpg)
2. Нажмите **«Фильтровать»**.
3. Для сброса фильтра нажмите **«Показать все»**.

#### 3. Добавление бронирования
1. Нажмите **«Добавить бронирование»**.
2. Заполните поля:  
   - Выберите гостя или создайте нового.  
   - Выберите доступный номер.  
   - Укажите даты.  
3. Нажмите **«Сохранить»**.  
   ![Добавление](https://github.com/BosenkoTM/DE-MTKP/blob/main/de/2025/tipovoe_zadanie/data/add_booking.jpg)

#### 4. Удаление бронирования
1. Выберите запись в таблице.
2. Нажмите **«Удалить»** и подтвердите действие.

---

### Необходимые приложения:
- **Текст брифинга.pdf**  
- **Документы заказчика.zip**  
- **Требования к разработке.pdf**  

---

### Примечания:
- Код должен соответствовать [Требования к разработке.pdf](https://github.com/BosenkoTM/DE-MTKP/blob/main/de/2025/tipovoe_zadanie/data/%D0%A2%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20%D0%BA%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B5.pdf).
- Руководство пользователя должно включать скриншоты всех этапов работы.
- Тестирование проводить с использованием данных из [Отчет по оплате.xlsx](https://github.com/BosenkoTM/DE-MTKP/raw/refs/heads/main/de/2025/tipovoe_zadanie/data/%D0%9E%D1%82%D1%87%D0%B5%D1%82%20%D0%BF%D0%BE%20%D0%BE%D0%BF%D0%BB%D0%B0%D1%82%D0%B5.xlsx).

Прикрепить электронный отчет №4, в котором отобразить:
- работоспособный интерфейс приложения.

Продемонстрировать работу скриптов преподавателю.
